{"ast":null,"code":"import * as mapboxgl from 'mapbox-gl';\nimport { environment } from 'src/environments/environment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./services/cliente-accidente.service\";\nexport let MapadespliegueComponent = /*#__PURE__*/(() => {\n  class MapadespliegueComponent {\n    accidentesService;\n    accidentes;\n    mapa;\n    constructor(accidentesService) {\n      this.accidentesService = accidentesService;\n    }\n    ngOnInit() {\n      mapboxgl.accessToken = environment.mapboxKey;\n      this.mapa = new mapboxgl.Map({\n        container: 'mapa',\n        style: 'mapbox://styles/mapbox/streets-v11',\n        center: [-76.561535727778, 2.5689377388889],\n        zoom: 9 // starting zoom\n      });\n\n      this.mapa.addControl(new mapboxgl.NavigationControl());\n      this.accidentesService.getClientes().subscribe(result => {\n        this.accidentes = result;\n        result.forEach(element => {\n          var longitud = parseInt(element.longitud);\n          var latitud = parseInt(element.latitud);\n          //this.crearMarcador(longitud,latitud);\n          //this.crearMarcador(longitud,latitud);\n          var id = element.id.toString();\n          // console.log(\"------accidentes---->\",this.accidentes[].latitud)\n          //console.log(\"------accidentes---->\",\"  long:\",element.longitud,\"  -   lat:\",element.latitud)\n        });\n      });\n\n      this.crearMarcador(-76.561535727778, 2.5689377388889);\n      //this.crearMarcador();\n      //}\n    }\n\n    crearMarcador(ling, lat) {\n      const marker = new mapboxgl.Marker({\n        draggable: false // permite deslizarse\n      }).setLngLat([ling, lat]).addTo(this.mapa);\n      console.log(\"el mensaje esta listo\");\n      /*this.accidentes.forEach(element => {\n        console.log(\"object ---->\", element )\n      });*/\n      /* function onDragEnd() {\n       var lngLat = marker.getLngLat();\n       this.coordinates.style.display = 'block';\n       this.coordinates.innerHTML =\n       'Longitude: ' + lngLat.lng + '<br />Latitude: ' + lngLat.lat;\n       }\n        \n       marker.on('dragend', onDragEnd);*/\n    }\n\n    static ɵfac = function MapadespliegueComponent_Factory(t) {\n      return new (t || MapadespliegueComponent)(i0.ɵɵdirectiveInject(i1.ClienteAccidenteService));\n    };\n    static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: MapadespliegueComponent,\n      selectors: [[\"app-mapadespliegue\"]],\n      decls: 2,\n      vars: 0,\n      consts: [[\"id\", \"mapa\"], [\"id\", \"coordinates\", 1, \"coordinates\"]],\n      template: function MapadespliegueComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0);\n          i0.ɵɵelement(1, \"pre\", 1);\n          i0.ɵɵelementEnd();\n        }\n      },\n      styles: [\"#mapa[_ngcontent-%COMP%]{width:100%;height:100%}.coordinates[_ngcontent-%COMP%]{background:rgba(0,0,0,.5);color:#fff;position:absolute;bottom:40px;left:10px;padding:5px 10px;margin:0;font-size:11px;line-height:18px;border-radius:3px;display:none}\"]\n    });\n  }\n  return MapadespliegueComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}